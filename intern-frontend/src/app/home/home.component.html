<div class="home-container m-4">
  <header>
    <h1>Home-Dashboard</h1>
  </header>

  <!-- Admin Dashboard -->
  <div *ngIf="positionByEmployeeId === 'AD' || positionByEmployeeId === 'HR'; else employeeView">
    <h2>Admin Dashboard</h2>
    <p>Total Employees: {{ totalEmployees }}</p>
    <p>Total Timeoffs: {{ totalTimeoffs }}</p>
  </div>

  <!-- Employee View -->
  <ng-template #employeeView>
    <h2>My Remaining Timeoff</h2>
    <p>Remaining Days: {{ remainingTimeoff }}</p>

    <!-- Trigger Button -->
    <button
      type="button"
      class="btn btn-primary"
      data-bs-toggle="modal"
      data-bs-target="#addTimeoffModal"
    >
      Add Timeoff
    </button>

    <!-- Modal -->
    <div
      #addTimeoffModal
      class="modal fade"
      id="addTimeoffModal"
      tabindex="-1"
      aria-labelledby="addTimeoffLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <!-- Modal Header -->
          <div class="modal-header">
            <h5 class="modal-title" id="addTimeoffLabel">Select Dates</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>

          <!-- Modal Form -->
          <form
            #timeoffForm="ngForm"
            (ngSubmit)="onSubmitTimeoff(timeoffForm.value)"
          >
            <div class="modal-body">
              <!-- Start Date -->
              <div class="mb-3">
                <label for="start" class="form-label">Start Date</label>
                <input
                  type="date"
                  id="start"
                  name="startDate"
                  class="form-control"
                  [(ngModel)]="newTimeoff.startDate"
                  required
                />
              </div>

              <!-- End Date -->
              <div class="mb-3">
                <label for="end" class="form-label">End Date</label>
                <input
                  type="date"
                  id="end"
                  name="endDate"
                  class="form-control"
                  [(ngModel)]="newTimeoff.endDate"
                  required
                />
              </div>

              <!-- Status -->
              <div class="mb-3">
                <label for="status" class="form-label">Status</label>
                <input
                  type="text"
                  id="status"
                  name="status"
                  class="form-control"
                  [(ngModel)]="newTimeoff.status"
                  required
                />
              </div>

              <!-- Reason -->
              <div class="mb-3">
                <label for="reason" class="form-label">Reason</label>
                <input
                  type="text"
                  id="reason"
                  name="reason"
                  class="form-control"
                  [(ngModel)]="newTimeoff.reason"
                  required
                />
              </div>

              <!-- isEarned -->
              <div class="mb-3">
                <label for="isEarned" class="form-label">Is Earned</label>
                <div>
                  <div class="form-check form-check-inline">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="isEarned"
                      [value]="true"
                      [(ngModel)]="newTimeoff.isEarned"
                      required
                    />
                    <label class="form-check-label">Yes</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="isEarned"
                      [value]="false"
                      [(ngModel)]="newTimeoff.isEarned"
                    />
                    <label class="form-check-label">No</label>
                  </div>
                </div>
              </div>
            </div>

            <!-- Modal Footer -->
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
              <button type="submit" class="btn btn-success">
                Add
              </button>
            </div>
          </form>
          <!-- End Form -->
        </div>
      </div>
    </div>
  </ng-template>
</div>
